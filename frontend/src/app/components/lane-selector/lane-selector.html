<div class="lane-selector-overlay" *ngIf="isVisible" (click)="onClose()">
  <!-- Debug: Verificar se componente estÃ¡ sendo renderizado -->
  <div
    style="
      position: absolute;
      top: 10px;
      left: 10px;
      background: red;
      color: white;
      padding: 5px;
      z-index: 10000;
    "
  >
    ðŸŽ¯ MODAL DEBUG - VisÃ­vel: {{ isVisible }}
  </div>
  <div class="lane-selector-modal" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>ðŸŽ¯ Selecionar PosiÃ§Ãµes</h3>
      <button class="close-btn" (click)="onClose()">âœ•</button>
    </div>

    <div class="modal-content">
      <div class="selection-section">
        <h4>Lane PrimÃ¡ria</h4>
        <div class="lane-grid">
          <button
            *ngFor="let lane of lanes"
            class="lane-button"
            [class.selected]="selectedPrimary === lane.id"
            (click)="selectPrimaryLane(lane.id)"
          >
            <span class="lane-icon">{{ lane.icon }}</span>
            <span class="lane-name">{{ lane.name }}</span>
            <span class="lane-desc">{{ lane.description }}</span>
          </button>
        </div>
      </div>

      <div class="selection-section" *ngIf="selectedPrimary">
        <h4>Lane SecundÃ¡ria</h4>
        <div class="lane-grid">
          <button
            *ngFor="let lane of lanes"
            class="lane-button"
            [class.selected]="selectedSecondary === lane.id"
            [class.disabled]="lane.id === selectedPrimary"
            [disabled]="lane.id === selectedPrimary"
            (click)="selectSecondaryLane(lane.id)"
          >
            <span class="lane-icon">{{ lane.icon }}</span>
            <span class="lane-name">{{ lane.name }}</span>
            <span class="lane-desc">{{ lane.description }}</span>
          </button>
        </div>
      </div>

      <div
        class="selection-summary"
        *ngIf="selectedPrimary && selectedSecondary"
      >
        <h4>Resumo da SeleÃ§Ã£o</h4>
        <div class="summary-item">
          <strong>PrimÃ¡ria:</strong> {{ getLaneIcon(selectedPrimary) }} {{
          getLaneName(selectedPrimary) }}
        </div>
        <div class="summary-item">
          <strong>SecundÃ¡ria:</strong> {{ getLaneIcon(selectedSecondary) }} {{
          getLaneName(selectedSecondary) }}
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <button class="btn-secondary" (click)="onClose()">Cancelar</button>
      <button
        class="btn-primary"
        [disabled]="!isValidSelection()"
        (click)="onConfirm()"
      >
        ðŸš€ Entrar na Fila
      </button>
    </div>
  </div>
</div>
